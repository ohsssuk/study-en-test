(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6034:function(e,t,s){Promise.resolve().then(s.bind(s,5285))},5285:function(e,t,s){"use strict";s.d(t,{default:function(){return H}});var n,i,o=s(7437),r=s(6194),l=s.n(r),c=s(2265);class a{init(){this.canvas.width=this.width,this.canvas.height=this.height,this.createParticles(),this.animate()}createParticles(){for(let e=0;e<this.particleCount;e++){let t=Math.random()*this.particleSize,s=Math.random()*(this.canvas.width-2*t)+t,n=Math.random()*(this.canvas.height-2*t)+t,i=(Math.random()-.5)*this.moveSpeed,o=(Math.random()-.5)*this.moveSpeed,r=this.colorSet[e%this.colorSet.length];this.particles.push({x:s,y:n,radius:t,dx:i,dy:o,color:r})}}updateParticle(e){e.x+=e.dx,e.y+=e.dy,(e.x-e.radius>this.canvas.width||e.x+e.radius<0)&&(e.dx=-e.dx),(e.y-e.radius>this.canvas.height||e.y+e.radius<0)&&(e.dy=-e.dy),this.drawParticle(e)}drawParticle(e){this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.radius,0,2*Math.PI),this.ctx.fillStyle=e.color,this.ctx.fill(),this.ctx.closePath()}animate(){for(let e of(requestAnimationFrame(()=>this.animate()),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="transparent",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.particles))this.updateParticle(e)}constructor({canvasId:e,colorSet:t,width:s=window.innerWidth,height:n=window.innerHeight,particleCount:i=10,particleSize:o=4}){let r=document.getElementById(e);if(!r)throw Error('Canvas element with id "'.concat(e,'" not found'));this.canvas=r,this.ctx=this.canvas.getContext("2d"),this.colorSet=t,this.width=s,this.height=n,this.particleCount=i,this.particleSize=o,this.moveSpeed=5,this.particles=[],this.init()}}var d=s(7825),u=s.n(d);function h(e){let{onClick:t,type:s="button",disabled:n=!1,isFull:i=!1,size:r="md",className:l="",children:c}=e;return(0,o.jsx)("button",{className:"".concat(u().button," ").concat(l," ").concat(u()[r]),type:s,disabled:n,onClick:()=>{t&&t()},style:{width:"".concat(i?"100%":"auto")},children:c})}function _(e){let{startTest:t,isExistSavedData:s}=e;return(0,c.useEffect)(()=>{new a({canvasId:"bg_effect",colorSet:["rgb(205, 232, 229, 0.4)","rgb(238, 247, 255, 0.4)","rgb(122, 178, 178, 0.4)","rgb(77, 134, 156, 0.4)"],particleCount:20,particleSize:200})},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("canvas",{id:"bg_effect",className:"fixed inset-0 w-full h-full"}),(0,o.jsxs)("article",{id:l().before_start_test,children:[(0,o.jsxs)("h2",{children:[s?"Continue":"Start"," Test!"]}),(0,o.jsx)(h,{size:"lg",onClick:()=>{t()},children:s?"이어서 계속 하기":"테스트 시작"})]})]})}function x(e){let{options:t,question:s,isCompleted:n,onChange:i}=e,r=e=>{let{question:t,option:s}=e;return n?s.optionId===t.questionCorrectOptionId?{backgroundColor:"#415ef3",color:"#fff",border:"1px solid transparent"}:s.optionId===t.questionUserSelectedOptionId?{backgroundColor:"#f00",color:"#fff",border:"1px solid transparent"}:{}:{}},c=(e,t)=>{i(e,t)};return(0,o.jsx)("ul",{className:l()["question-option"],children:t.map((e,t)=>{var i;return(0,o.jsxs)("li",{children:[(0,o.jsx)("input",{type:"radio",id:"question_option_".concat(e.optionId),name:"question_check_".concat(s.questionId),className:"sr-only",disabled:n,onChange:()=>c(s.questionId,e.optionId)}),(0,o.jsxs)("label",{htmlFor:"question_option_".concat(e.optionId),className:l()["question-option-label"],children:[(0,o.jsx)("span",{style:r({question:s,option:e}),children:null!==(i=["A","B","C","D"][t])&&void 0!==i?i:"?"}),(0,o.jsx)("p",{children:e.optionContent})]})]},e.optionId)})})}function p(e){let{question:t,isCompleted:s,onChange:n}=e;return(0,o.jsxs)("li",{children:[(0,o.jsx)("p",{className:l()["question-title"],children:t.questionTitle}),(0,o.jsxs)("div",{className:l()["question-content"],children:[(0,o.jsx)("p",{children:t.questionContent}),s&&(0,o.jsx)("span",{className:l()["correct-check"],style:{backgroundColor:t.isCorrect?"#415ef3":"#db3232"},children:t.isCorrect?"정답":"오답"})]}),(0,o.jsx)(x,{options:t.questionOption,question:t,isCompleted:s,onChange:(e,t)=>{n(e,t)}}),s&&(0,o.jsxs)("div",{className:l().help,children:[(0,o.jsx)("p",{dangerouslySetInnerHTML:{__html:t.questionHelp.content}}),t.questionHelp.words&&(0,o.jsx)("ul",{className:l().words,children:t.questionHelp.words.map((e,t)=>(0,o.jsx)("li",{children:(0,o.jsx)("p",{dangerouslySetInnerHTML:{__html:e}})},t))})]})]})}function m(e){let{questionList:t,isCompleted:s=!1,onChange:n}=e;return(0,o.jsx)("ul",{className:l()["question-list"],children:t.map(e=>(0,o.jsx)(p,{question:e,isCompleted:s,onChange:n},e.questionId))})}function j(e){let{questionSetTitle:t,questionSetContent:s,questionSetHelp:n=null}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:l().content,children:[(0,o.jsx)("h3",{children:t}),(0,o.jsxs)("div",{className:l().detail,children:[(0,o.jsx)("p",{children:s}),n&&(0,o.jsxs)("div",{className:l().help,children:[n.content&&(0,o.jsx)("p",{dangerouslySetInnerHTML:{__html:n.content}}),n.words&&n.words.length>0&&(0,o.jsx)("ul",{className:l().words,children:n.words.map((e,t)=>(0,o.jsx)("li",{children:(0,o.jsx)("p",{dangerouslySetInnerHTML:{__html:e}})},t))})]})]})]})})}function f(e,t,s){if(!e||0===e.length)return null;let n=e.findIndex(e=>e[t]===s);return -1!==n?e[n]:null}function q(e){let t=Math.floor(e/60),s=e%60,n=t<10?"0"+t:t.toString(),i=s<10?"0"+s:s.toString();return"".concat(n,":").concat(i)}function S(e){let{questionSet:t,buttonCTAText:s,checkAnswer:n,nextSet:i}=e,r=[];return(0,o.jsxs)("article",{id:l().in_test,children:[(0,o.jsxs)("section",{className:l()["question-set"],children:[(0,o.jsx)(j,{questionSetTitle:t.questionSetTitle,questionSetContent:t.questionSetContent,questionSetHelp:t.isCompleted?t.questionSetHelp:null}),(0,o.jsx)(m,{questionList:t.question,onChange:(e,t)=>{let s=f(r,"questionId",e);s?s.optionId=t:r.push({questionId:e,optionId:t})},isCompleted:t.isCompleted})]}),(0,o.jsx)("section",{className:l()["question-cta"],children:(0,o.jsx)("div",{className:l()["btn-wrap"],children:(0,o.jsx)(h,{isFull:!0,size:"lg",onClick:()=>{t.isCompleted?i():n(r)},children:s})})})]})}async function g(e){try{let t=await fetch(e),s=await t.json();return{status:!0,code:200,data:{...s}}}catch(e){return console.error("Error fetching data:",e),{status:!1,code:404,data:null}}}function v(e){let{initSeconds:t,progressCount:s,currentCount:n,isTimerOn:i}=e,[r,a]=(0,c.useState)(t);return(0,c.useEffect)(()=>{let e=setInterval(()=>{i&&a(e=>e+1)},1e3);return()=>clearInterval(e)},[i]),(0,o.jsxs)("section",{id:l().test_head,children:[(0,o.jsxs)("div",{className:l().timer,children:[(0,o.jsx)("p",{children:"소요 시간"}),(0,o.jsx)("p",{children:q(r)})]}),(0,o.jsxs)("div",{className:l().progress,children:[(0,o.jsx)("p",{children:"진행"}),(0,o.jsxs)("p",{children:[n,"/",s]})]})]})}var C=s(6920),w=s(5079);function T(e){let{testForm:t,viewSetHelp:s,deleteAnswerData:n}=e,i=e=>{let{questions:t}=e;return(0,o.jsx)("ul",{className:l()["question-result-check"],children:t.map(e=>(0,o.jsx)("li",{children:e.isCorrect?(0,o.jsx)(C.G,{icon:w.LEp,className:"text-green-500"}):(0,o.jsx)(C.G,{icon:w.NBC,className:"text-red-500"})},e.questionId))})},r=t.questionSet.reduce((e,t)=>e+t.seconds,0);return(0,o.jsxs)("article",{id:l().finish_test_result,children:[(0,o.jsx)("h2",{children:"테스트 결과"}),(0,o.jsxs)("div",{className:l()["all-result"],children:[(0,o.jsxs)("div",{className:l().row,children:[(0,o.jsx)("p",{children:"총 소요 시간"}),(0,o.jsx)("p",{children:q(r)})]}),(0,o.jsxs)("div",{className:l().row,children:[(0,o.jsx)("p",{children:"문제 세트별 정오답"}),(0,o.jsxs)("p",{children:[t.score," / ",t.questionSet.length]})]})]}),(0,o.jsx)("ul",{className:l()["set-result"],children:t.questionSet.map(e=>(0,o.jsxs)("li",{children:[(0,o.jsx)("h3",{children:e.questionSetTitle}),(0,o.jsxs)("div",{className:l().row,children:[(0,o.jsx)("p",{children:"소요 시간"}),(0,o.jsx)("div",{className:l()["question-result-time"],children:q(e.seconds)})]}),(0,o.jsxs)("div",{className:l().row,children:[(0,o.jsx)("p",{children:"정오답"}),e.score," / ",e.question.length,i({questions:e.question})]}),(0,o.jsx)("div",{className:l().row,children:(0,o.jsx)(h,{size:"sm",onClick:()=>s(e.questionSetId),children:"해설 보기"})})]},e.questionSetId))}),(0,o.jsx)(h,{size:"lg",onClick:()=>{n()},children:"저장된 기록을 지우고 다시 시작"})]})}var I=s(1956),N=s.n(I);function b(){return(0,o.jsx)("div",{className:N()["loading-container"],children:(0,o.jsx)("div",{children:(0,o.jsx)(C.G,{icon:w.LM3})})})}var E=s(9099),y=s(9291);let k=(0,E.Ue)()((0,y.tJ)(e=>({answerSet:[],timeSet:[],addAnswer:t=>e(e=>({answerSet:[...e.answerSet,t]})),addTime:t=>e(e=>({timeSet:[...e.timeSet,t]})),reset:()=>e({answerSet:[],timeSet:[]})}),{name:"testProgress"}));(n=i||(i={}))[n.BEFORE_TEST=1]="BEFORE_TEST",n[n.IN_TEST=2]="IN_TEST",n[n.FINISH_TEST=3]="FINISH_TEST";let M=0;function H(e){let{testId:t}=e,{answerSet:s,timeSet:n,addAnswer:i,addTime:r,reset:l}=k(),[a,d]=(0,c.useState)(null),[u,h]=(0,c.useState)(null),[x,p]=(0,c.useState)(0),[m,j]=(0,c.useState)(1),[q,C]=(0,c.useState)(0),[w,I]=(0,c.useState)(!1),[N,E]=(0,c.useState)(!1);(0,c.useEffect)(()=>{y()},[]),(0,c.useEffect)(()=>{n.length>0&&E(!0),O()},[n]),(0,c.useEffect)(()=>{let e=setInterval(()=>{w&&M++},1e3);return()=>clearInterval(e)},[w]),(0,c.useEffect)(()=>{a&&h(a.questionSet[x])},[a,x]);let y=async()=>{let{status:e,data:t}=await g("https://ohsssuk.github.io/study-en-test/testDB.json");e&&t&&d(t)},H=()=>{C(n.reduce((e,t)=>e+t.seconds,0)),O(),(null==a?void 0:a.isCompleted)?j(3):(p(n.length),I(!0))},O=()=>{a&&d(e=>{if(!e)return null;let t={...e};t.score=0;let{questionSet:i}=t;return t.isCompleted=n.length===i.length,i.forEach(e=>{let i=f(n,"questionSetId",e.questionSetId);i&&(e.seconds=i.seconds,e.isCompleted=!0),e.score=0,e.question.forEach(t=>{let n=f(s,"questionId",t.questionId);n&&(t.questionUserSelectedOptionId=n.optionId),t.questionUserSelectedOptionId===t.questionCorrectOptionId?(t.isCorrect=!0,e.score++):t.isCorrect=!1}),e.score===e.question.length&&t.score++}),t})},F=()=>x+1===(null==a?void 0:a.questionSet.length);return a?(0,o.jsx)(o.Fragment,{children:2===m&&u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v,{initSeconds:q,isTimerOn:w,progressCount:a.questionSet.length,currentCount:x+1}),(0,o.jsx)(S,{questionSet:u,checkAnswer:e=>{I(!1),e.map(e=>{let{questionId:t,optionId:s}=e;i({questionId:t,optionId:s})}),u&&r({questionSetId:u.questionSetId,seconds:M})},nextSet:()=>{M=0,F()?j(3):(p(e=>e+1),j(2),(null==a?void 0:a.isCompleted)||I(!0))},buttonCTAText:u.isCompleted?F()?"결과 확인":"다음 문제":F()?"테스트 종료":"다음 문제"})]}):1===m?(0,o.jsx)(_,{startTest:()=>{j(2),N?H():I(!0)},isExistSavedData:N}):(0,o.jsx)(T,{testForm:a,viewSetHelp:e=>{if(!a)return;I(!1),C(n.reduce((e,t)=>e+t.seconds,0)),f(a.questionSet,"questionSetId",e);let t=a.questionSet.findIndex(t=>t.questionSetId===e);-1!==t&&(p(t),j(2))},deleteAnswerData:()=>{l(),s.length=0,n.length=0,C(0),y(),p(0),E(!1),j(1),M=0}})}):(0,o.jsx)(b,{})}},7825:function(e){e.exports={button:"CommonBtn_button__DU9_M",lg:"CommonBtn_lg__51KiN",sm:"CommonBtn_sm__BEjKa"}},1956:function(e){e.exports={"loading-container":"Loading_loading-container__NTSSU",spin:"Loading_spin__MLDXm"}},6194:function(e){e.exports={before_start_test:"Test_before_start_test__Axhrs",test_head:"Test_test_head__TroQR",in_test:"Test_in_test__5C5jO","question-set":"Test_question-set__2Y5Uy",content:"Test_content__ftJNt",detail:"Test_detail__rVsEf",words:"Test_words__jZhV9","question-list":"Test_question-list__5G6hF","question-title":"Test_question-title__jlzX9","question-content":"Test_question-content__yw_NM","correct-check":"Test_correct-check___OdZp","question-option":"Test_question-option__WhYx9",help:"Test_help__p7e8m","question-cta":"Test_question-cta__Erdfm","btn-wrap":"Test_btn-wrap__L_902",finish_test_result:"Test_finish_test_result__V0JnZ","all-result":"Test_all-result___mtq2","set-result":"Test_set-result__U4jTt",row:"Test_row__OkHps","question-result-check":"Test_question-result-check__rP2CL"}}},function(e){e.O(0,[892,676,360,971,23,744],function(){return e(e.s=6034)}),_N_E=e.O()}]);